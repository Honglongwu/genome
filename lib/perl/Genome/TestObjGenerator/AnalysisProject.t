#!/usr/bin/env genome-perl

BEGIN {
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

use strict;
use warnings;

use above 'Genome';
use Test::More;

my $class = 'Genome::TestObjGenerator::AnalysisProject';
use_ok($class);

my $ap = $class->setup_object();
isa_ok($ap, 'Genome::Config::AnalysisProject', 'It sets up an AnalysisProject object');

my $test_hash = { blah => { blah => 'test' } };
my $ap2 = $class->setup_object(config_hash => $test_hash);
isa_ok($ap2, 'Genome::Config::AnalysisProject', 'It sets up an AnalysisProject object');

is_deeply($test_hash, $ap2->get_configuration_reader->get_config(),
    'it allows for the config reader to be mocked');

done_testing();

