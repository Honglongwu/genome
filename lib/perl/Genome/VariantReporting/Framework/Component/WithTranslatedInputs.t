#!/usr/bin/env genome-perl

BEGIN { 
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

use strict;
use warnings;

use above "Genome";
use Test::More;
use Test::Exception;
use Exception::Class;

my $pkg = 'Genome::VariantReporting::Framework::Component::WithTranslatedInputs';
use_ok($pkg);

subtest 'translate' => sub {
    throws_ok(sub {$pkg->translate('old value', undef, 'attribute')}, qr(No translations provided), 'translate dies if no translations are provided');
    eval {$pkg->translate('old value', undef, 'attribute')};
    ok(Exception::Class->caught('NoTranslationsException'), 'Exception is of correct type')
};

done_testing;
