#!/usr/bin/env genome-perl

BEGIN { 
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

use strict;
use warnings;

use above "Genome";
use Test::More;
use Test::Exception;

subtest 'get_attribute' => sub {
    my $resource_provider = Genome::VariantReporting::Framework::Component::RuntimeTranslations->create(
        attributes => {
            translations => { tumor => 'test sample name', },
        },
    );

    lives_ok {$resource_provider->get_attribute('translations')} 'get_attribute for attribute (translations) executes ok';
    is_deeply($resource_provider->get_attribute('translations'), { tumor => 'test sample name', }, 'return value as expected');

    throws_ok(sub { $resource_provider->get_attribute('nonexistent_attribute') }, 'NonexistentAttributeException', 'get_attributes throws a NonexistentAttributeException');
};

done_testing;
