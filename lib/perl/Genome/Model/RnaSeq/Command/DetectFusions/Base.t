#!/usr/bin/env genome-perl
use strict;
use warnings;

BEGIN {
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
};

use above 'Genome';
use Test::More;
use Genome::Model::RnaSeq::Command::DetectFusions::Base;

my %expected = (
    'a b [abc]' => ['a', 'b', 'abc'],
    ' a-b:c|d/e 1.2   [-a --b c/d]' => ['a-b:c|d/e', '1.2', '-a --b c/d'],
);

for my $key (keys %expected) {
    my @results = Genome::Model::RnaSeq::Command::DetectFusions::Base::_parse_strategy($key);
    is_deeply(\@results, $expected{$key}, "parsed \"$key\" correctly.");
}

done_testing();
