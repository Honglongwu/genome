#!/usr/bin/env perl

use above 'Genome';
use Data::Dumper;
use Test::More;

use strict;
use warnings;

BEGIN {
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

my $pkg = "Genome::File::Vcf::Header";

use_ok($pkg);

my $lines_txt = <<EOS;
##fileformat=VCFv4.1
##FILTER=<ID=PASS,Description="Passed all filters">
##INFO=<ID=CALLER,Number=.,Type=String,Description="Variant caller">
##FORMAT=<ID=GT,Number=1,Type=String,Description="Genotype">
#CHROM	POS	ID	REF	ALT	QUAL	FILTER	INFO	FORMAT	S1	S2	S3
EOS
my @lines = split("\n", $lines_txt);
my $header = $pkg->create();
$header->parse(@lines);

is_deeply([$header->sample_names], ["S1", "S2", "S3"], "Sample names parsed");

done_testing();
